import{q as ge,s as he,x as _e,y as Pe,z as k,A as F,B as K,C as be,a as u,D as Ee,E as A,G as Ce,H as j,I as xe,J as ae,K as J,L as ye,N as Te,O as Q,Q as De,S as Ve,T as Be,W as Me,X as Ge,Y as ue,Z as ce,$ as $e,a0 as He,a1 as Re,a2 as Ie,a3 as Ne,a4 as Oe,a5 as Le,a6 as Ye,a7 as ze,a8 as We,a9 as Ae,aa as Xe,ab as Fe,ac as je,ad as qe,ae as Ue,af as Ze,F as $,ag as Je,d as Ke,ah as Qe,c as x,b as d,f as q,g as I,h as y,ai as M,V as N,t as T,aj as et,l as B,k as U,e as z,ak as Z,o as f,_ as tt}from"./index-DH8apSnK.js";import{R as at}from"./Reservations-CWHfbZ29.js";import{H as nt,N as lt}from"./Navigation-CwpYL5Cb.js";import{S as ot}from"./SPHeaderBar-BCKRUExu.js";import{u as we,V as de,m as st,a as rt,b as it}from"./VOverlay-CTzZUyW5.js";import{u as ut,V as ct}from"./ssrBoot-CgMVngnI.js";import{V as dt}from"./VAvatar-Db3om-SH.js";import{f as vt}from"./forwardRefs-B931MWyl.js";import{V as ft,a as mt,b as ve,c as gt,d as ht}from"./VCard-_Df7O8hH.js";import{V as ee}from"./VChip-CzSyRcIe.js";import{V as _t}from"./VDivider-lJ_zDGAW.js";import"./transition-DB5taBrl.js";import"./index-DJgUtcrO.js";const bt=he({id:String,text:String,...Ee(st({closeOnBack:!1,location:"end",locationStrategy:"connected",eager:!0,minWidth:0,offset:10,openOnClick:!1,openOnHover:!0,origin:"auto",scrim:!1,scrollStrategy:"reposition",transition:!1}),["absolute","persistent"])},"VTooltip"),yt=ge()({name:"VTooltip",props:bt(),emits:{"update:modelValue":e=>!0},setup(e,o){let{slots:s}=o;const S=_e(e,"modelValue"),{scopeId:l}=we(),v=Pe(),c=k(()=>e.id||`v-tooltip-${v}`),P=F(),D=k(()=>e.location.split(" ").length>1?e.location:e.location+" center"),E=k(()=>e.origin==="auto"||e.origin==="overlap"||e.origin.split(" ").length>1||e.location.split(" ").length>1?e.origin:e.origin+" center"),b=k(()=>e.transition?e.transition:S.value?"scale-transition":"fade-transition"),w=k(()=>K({"aria-describedby":c.value},e.activatorProps));return be(()=>{const m=de.filterProps(e);return u(de,K({ref:P,class:["v-tooltip",e.class],style:e.style,id:c.value},m,{modelValue:S.value,"onUpdate:modelValue":g=>S.value=g,transition:b.value,absolute:!0,location:D.value,origin:E.value,persistent:!0,role:"tooltip",activatorProps:w.value,_disableGlobalStack:!0},l),{activator:s.activator,default:function(){var _;for(var g=arguments.length,C=new Array(g),h=0;h<g;h++)C[h]=arguments[h];return((_=s.default)==null?void 0:_.call(s,...C))??e.text}})}),vt({},P)}});let te=class{static async fetchTimetable(o,s){const S=await A.get("/timetable",{params:{start_time:o.toISOString(),end_time:s.toISOString()}});return S.type==="error"?(A.showGenericError(S,"番組表の情報を取得できませんでした。"),null):S.data}static async updateEPG(){const o=await A.post("/timetable/update-epg");return o.type==="error"?(A.showGenericError(o,"EPG の更新に失敗しました。"),!1):!0}static async reloadEPG(){const o=await A.post("/timetable/reload-epg");return o.type==="error"?(A.showGenericError(o,"EPG の再読み込みに失敗しました。"),!1):!0}};const wt=Ce("timetable",{state:()=>({_timetable_channels:null,current_date:new Date,selected_channel_type:"ALL",is_loading:!1}),getters:{timetable_channels(e){return e._timetable_channels?e.selected_channel_type==="ALL"?e._timetable_channels:e._timetable_channels.filter(o=>o.channel.type===e.selected_channel_type):null}},actions:{async fetchTimetable(){if(this.is_loading)return;this.is_loading=!0;const e=new Date(this.current_date);e.setHours(4,0,0,0);const o=new Date(e);o.setDate(o.getDate()+1);try{const s=await te.fetchTimetable(e,o);this._timetable_channels=s}catch(s){console.error(s),this._timetable_channels=null}finally{this.is_loading=!1}},setPreviousDate(){const e=new Date(this.current_date);e.setDate(e.getDate()-1),this.current_date=e,this.fetchTimetable()},setNextDate(){const e=new Date(this.current_date);e.setDate(e.getDate()+1),this.current_date=e,this.fetchTimetable()},setCurrentDate(){this.current_date=new Date,this.fetchTimetable()},setChannelType(e){this.selected_channel_type=e},async updateEPG(){if(!this.is_loading){this.is_loading=!0;try{if(!await te.updateEPG())throw new Error("EPGの更新に失敗しました。");await this.fetchTimetable()}catch(e){throw console.error("EPG更新エラー:",e),e}finally{this.is_loading=!1}}},async reloadEPG(){if(!this.is_loading){this.is_loading=!0;try{if(!await te.reloadEPG())throw new Error("EPGの再読み込みに失敗しました。");await this.fetchTimetable()}catch(e){throw console.error("EPG再読み込みエラー:",e),e}finally{this.is_loading=!1}}}}});function pt(e){let{rootEl:o,isSticky:s,layoutItemStyles:S}=e;const l=j(!1),v=j(0),c=k(()=>{const E=typeof l.value=="boolean"?"top":l.value;return[s.value?{top:"auto",bottom:"auto",height:void 0}:void 0,l.value?{[E]:xe(v.value)}:{top:S.value.top}]});ae(()=>{J(s,E=>{E?window.addEventListener("scroll",D,{passive:!0}):window.removeEventListener("scroll",D)},{immediate:!0})}),ye(()=>{window.removeEventListener("scroll",D)});let P=0;function D(){const E=P>window.scrollY?"up":"down",b=o.value.getBoundingClientRect(),w=parseFloat(S.value.top??0),m=window.scrollY-Math.max(0,v.value-w),g=b.height+Math.max(v.value,w)-window.scrollY-window.innerHeight,C=parseFloat(getComputedStyle(o.value).getPropertyValue("--v-body-scroll-y"))||0;b.height<window.innerHeight-w?(l.value="top",v.value=w):E==="up"&&l.value==="bottom"||E==="down"&&l.value==="top"?(v.value=window.scrollY+b.top-C,l.value=!0):E==="down"&&g<=0?(v.value=0,l.value="bottom"):E==="up"&&m<=0&&(C?l.value!=="top"&&(v.value=-m+C+w,l.value="top"):(v.value=b.top+m,l.value="top")),P=window.scrollY}return{isStuck:l,stickyStyles:c}}const kt=100,St=20;function fe(e){return(e<0?-1:1)*Math.sqrt(Math.abs(e))*1.41421356237}function me(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let o=0;for(let s=e.length-1;s>0;s--){if(e[s].t===e[s-1].t)continue;const S=fe(o),l=(e[s].d-e[s-1].d)/(e[s].t-e[s-1].t);o+=(l-S)*Math.abs(l),s===e.length-1&&(o*=.5)}return fe(o)*1e3}function Pt(){const e={};function o(l){Array.from(l.changedTouches).forEach(v=>{(e[v.identifier]??(e[v.identifier]=new Te(St))).push([l.timeStamp,v])})}function s(l){Array.from(l.changedTouches).forEach(v=>{delete e[v.identifier]})}function S(l){var E;const v=(E=e[l])==null?void 0:E.values().reverse();if(!v)throw new Error(`No samples for touch id ${l}`);const c=v[0],P=[],D=[];for(const b of v){if(c[0]-b[0]>kt)break;P.push({t:b[0],d:b[1].clientX}),D.push({t:b[0],d:b[1].clientY})}return{x:me(P),y:me(D),get direction(){const{x:b,y:w}=this,[m,g]=[Math.abs(b),Math.abs(w)];return m>g&&b>=0?"right":m>g&&b<=0?"left":g>m&&w>=0?"down":g>m&&w<=0?"up":Et()}}}return{addMovement:o,endTouch:s,getVelocity:S}}function Et(){throw new Error}function Ct(e){let{el:o,isActive:s,isTemporary:S,width:l,touchless:v,position:c}=e;ae(()=>{window.addEventListener("touchstart",H,{passive:!0}),window.addEventListener("touchmove",R,{passive:!1}),window.addEventListener("touchend",W,{passive:!0})}),ye(()=>{window.removeEventListener("touchstart",H),window.removeEventListener("touchmove",R),window.removeEventListener("touchend",W)});const P=k(()=>["left","right"].includes(c.value)),{addMovement:D,endTouch:E,getVelocity:b}=Pt();let w=!1;const m=j(!1),g=j(0),C=j(0);let h;function _(a,t){return(c.value==="left"?a:c.value==="right"?document.documentElement.clientWidth-a:c.value==="top"?a:c.value==="bottom"?document.documentElement.clientHeight-a:X())-(t?l.value:0)}function O(a){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=c.value==="left"?(a-C.value)/l.value:c.value==="right"?(document.documentElement.clientWidth-a-C.value)/l.value:c.value==="top"?(a-C.value)/l.value:c.value==="bottom"?(document.documentElement.clientHeight-a-C.value)/l.value:X();return t?Math.max(0,Math.min(1,n)):n}function H(a){if(v.value)return;const t=a.changedTouches[0].clientX,n=a.changedTouches[0].clientY,i=25,r=c.value==="left"?t<i:c.value==="right"?t>document.documentElement.clientWidth-i:c.value==="top"?n<i:c.value==="bottom"?n>document.documentElement.clientHeight-i:X(),p=s.value&&(c.value==="left"?t<l.value:c.value==="right"?t>document.documentElement.clientWidth-l.value:c.value==="top"?n<l.value:c.value==="bottom"?n>document.documentElement.clientHeight-l.value:X());(r||p||s.value&&S.value)&&(h=[t,n],C.value=_(P.value?t:n,s.value),g.value=O(P.value?t:n),w=C.value>-20&&C.value<80,E(a),D(a))}function R(a){const t=a.changedTouches[0].clientX,n=a.changedTouches[0].clientY;if(w){if(!a.cancelable){w=!1;return}const r=Math.abs(t-h[0]),p=Math.abs(n-h[1]);(P.value?r>p&&r>3:p>r&&p>3)?(m.value=!0,w=!1):(P.value?p:r)>3&&(w=!1)}if(!m.value)return;a.preventDefault(),D(a);const i=O(P.value?t:n,!1);g.value=Math.max(0,Math.min(1,i)),i>1?C.value=_(P.value?t:n,!0):i<0&&(C.value=_(P.value?t:n,!1))}function W(a){if(w=!1,!m.value)return;D(a),m.value=!1;const t=b(a.changedTouches[0].identifier),n=Math.abs(t.x),i=Math.abs(t.y);(P.value?n>i&&n>400:i>n&&i>3)?s.value=t.direction===({left:"right",right:"left",top:"down",bottom:"up"}[c.value]||X()):s.value=g.value>.5}const L=k(()=>m.value?{transform:c.value==="left"?`translateX(calc(-100% + ${g.value*l.value}px))`:c.value==="right"?`translateX(calc(100% - ${g.value*l.value}px))`:c.value==="top"?`translateY(calc(-100% + ${g.value*l.value}px))`:c.value==="bottom"?`translateY(calc(100% - ${g.value*l.value}px))`:X(),transition:"none"}:void 0);return Q(m,()=>{var n,i;const a=((n=o.value)==null?void 0:n.style.transform)??null,t=((i=o.value)==null?void 0:i.style.transition)??null;De(()=>{var r,p,G,Y;(p=o.value)==null||p.style.setProperty("transform",((r=L.value)==null?void 0:r.transform)||"none"),(Y=o.value)==null||Y.style.setProperty("transition",((G=L.value)==null?void 0:G.transition)||null)}),Ve(()=>{var r,p;(r=o.value)==null||r.style.setProperty("transform",a),(p=o.value)==null||p.style.setProperty("transition",t)})}),{isDragging:m,dragProgress:g,dragStyles:L}}function X(){throw new Error}const xt=["start","end","left","right","top","bottom"],Tt=he({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>xt.includes(e)},sticky:Boolean,...qe(),...je(),...rt(),...Fe({mobile:null}),...Xe(),...Ae(),...We(),...ze({tag:"nav"}),...Ye()},"VNavigationDrawer"),Dt=ge()({name:"VNavigationDrawer",props:Tt(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,o){let{attrs:s,emit:S,slots:l}=o;const{isRtl:v}=Be(),{themeClasses:c}=Me(e),{borderClasses:P}=Ge(e),{backgroundColorClasses:D,backgroundColorStyles:E}=ue(ce(e,"color")),{elevationClasses:b}=$e(e),{displayClasses:w,mobile:m}=He(e),{roundedClasses:g}=Re(e),C=Ie(),h=_e(e,"modelValue",null,V=>!!V),{ssrBootStyles:_}=ut(),{scopeId:O}=we(),H=F(),R=j(!1),{runOpenDelay:W,runCloseDelay:L}=it(e,V=>{R.value=V}),a=k(()=>e.rail&&e.expandOnHover&&R.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),t=k(()=>Ne(e.location,v.value)),n=k(()=>e.persistent),i=k(()=>!e.permanent&&(m.value||e.temporary)),r=k(()=>e.sticky&&!i.value&&t.value!=="bottom");Q(()=>e.expandOnHover&&e.rail!=null,()=>{J(R,V=>S("update:rail",!V))}),Q(()=>!e.disableResizeWatcher,()=>{J(i,V=>!e.permanent&&Je(()=>h.value=!V))}),Q(()=>!e.disableRouteWatcher&&!!C,()=>{J(C.currentRoute,()=>i.value&&(h.value=!1))}),J(()=>e.permanent,V=>{V&&(h.value=!0)}),e.modelValue==null&&!i.value&&(h.value=e.permanent||!m.value);const{isDragging:p,dragProgress:G}=Ct({el:H,isActive:h,isTemporary:i,width:a,touchless:ce(e,"touchless"),position:t}),Y=k(()=>{const V=i.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):a.value;return p.value?V*G.value:V}),{layoutItemStyles:ne,layoutItemScrimStyles:pe}=Oe({id:e.name,order:k(()=>parseInt(e.order,10)),position:t,layoutSize:Y,elementSize:a,active:k(()=>h.value||p.value),disableTransitions:k(()=>p.value),absolute:k(()=>e.absolute||r.value&&typeof le.value!="string")}),{isStuck:le,stickyStyles:ke}=pt({rootEl:H,isSticky:r,layoutItemStyles:ne}),oe=ue(k(()=>typeof e.scrim=="string"?e.scrim:null)),Se=k(()=>({...p.value?{opacity:G.value*.2,transition:"none"}:void 0,...pe.value}));return Le({VList:{bgColor:"transparent"}}),be(()=>{const V=l.image||e.image;return u($,null,[u(e.tag,K({ref:H,onMouseenter:W,onMouseleave:L,class:["v-navigation-drawer",`v-navigation-drawer--${t.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":R.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":i.value,"v-navigation-drawer--persistent":n.value,"v-navigation-drawer--active":h.value,"v-navigation-drawer--sticky":r.value},c.value,D.value,P.value,w.value,b.value,g.value,e.class],style:[E.value,ne.value,_.value,ke.value,e.style]},O,s),{default:()=>{var se,re,ie;return[V&&u("div",{key:"image",class:"v-navigation-drawer__img"},[l.image?u(Ue,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:e.image}}},l.image):u(dt,{key:"image-img",alt:"",cover:!0,height:"inherit",src:e.image},null)]),l.prepend&&u("div",{class:"v-navigation-drawer__prepend"},[(se=l.prepend)==null?void 0:se.call(l)]),u("div",{class:"v-navigation-drawer__content"},[(re=l.default)==null?void 0:re.call(l)]),l.append&&u("div",{class:"v-navigation-drawer__append"},[(ie=l.append)==null?void 0:ie.call(l)])]}}),u(Ze,{name:"fade-transition"},{default:()=>[i.value&&(p.value||h.value)&&!!e.scrim&&u("div",K({class:["v-navigation-drawer__scrim",oe.backgroundColorClasses.value],style:[Se.value,oe.backgroundColorStyles.value],onClick:()=>{n.value||(h.value=!1)}},O),null)]})])}),{isStuck:le}}}),Vt={class:"route-container"},Bt={class:"timetable-container-wrapper"},Mt={class:"timetable-header"},Gt={class:"channels-tab"},$t={class:"timetable-header__date-control"},Ht={class:"mx-4 date-display"},Rt={class:"timetable-body"},It={key:0,class:"loading-container"},Nt={key:1,class:"timetable-grid-container"},Ot={class:"timeline-container"},Lt={class:"hour-text"},Yt=["onClick"],zt={class:"program-header"},Wt={class:"program-title"},At={class:"program-badges"},Xt={key:0,class:"program-badge program-badge--paid"},Ft={key:1,class:"program-badge program-badge--genre"},jt={key:0,class:"program-description"},qt={class:"program-time"},Ut={class:"tooltip-text"},Zt={key:2,class:"loading-container"},Jt={class:"epg-controls-floating"},Kt={class:"program-info-badges"},Qt={class:"text-body-2 mb-3"},ea={key:0,class:"program-detail-section"},ta={class:"program-detail-grid"},aa={class:"detail-key"},na={class:"detail-value"},la=Ke({__name:"Timetable",setup(e){const o=wt(),s=Qe(),S=[{id:"ALL",name:"すべて"},{id:"GR",name:"地デジ"},{id:"BS",name:"BS"},{id:"CS",name:"CS"}],l=F(0),v=(a,t)=>{o.setChannelType(a),l.value=t},c={"ニュース・報道":{background:"#5a88a7",text:"#ffffff"},スポーツ:{background:"#e07f5a",text:"#ffffff"},"情報・ワイドショー":{background:"#e7a355",text:"#ffffff"},ドラマ:{background:"#b464a8",text:"#ffffff"},音楽:{background:"#64b46e",text:"#ffffff"},バラエティ:{background:"#e05a8e",text:"#ffffff"},映画:{background:"#a7647e",text:"#ffffff"},"アニメ・特撮":{background:"#e76b55",text:"#ffffff"},"ドキュメンタリー・教養":{background:"#5a88a7",text:"#ffffff"},"劇場・公演":{background:"#a7647e",text:"#ffffff"},"趣味・教育":{background:"#64b46e",text:"#ffffff"},福祉:{background:"#5aa788",text:"#ffffff"},その他:{background:"#7f7f7f",text:"#ffffff"}},P={background:"rgb(var(--v-theme-background-lighten-3))",text:"rgb(var(--v-theme-text))"},D=k(()=>{const a=o.current_date,t=a.getFullYear(),n=a.getMonth()+1,i=a.getDate(),r=["日","月","火","水","木","金","土"][a.getDay()];return`${t}年${n}月${i}日 (${r})`}),E=a=>{const t=new Date(a);return`${String(t.getHours()).padStart(2,"0")}:${String(t.getMinutes()).padStart(2,"0")}`},b=a=>{const t=new Date(a);return`${t.getFullYear()}/${t.getMonth()+1}/${t.getDate()} ${E(a)}`},w=(a,t)=>a.length<=t?a:a.substring(0,t)+"...",m=k(()=>{var a;return{"grid-template-columns":`repeat(${((a=o.timetable_channels)==null?void 0:a.length)||0}, minmax(200px, 1fr))`}}),g=(a,t)=>{var Y;const n=new Date(a.start_time),i=(n.getHours()-4+24)%24*60+n.getMinutes(),r=a.duration/60,p=((Y=a.genres[0])==null?void 0:Y.major)||"その他",G=c[p]||P;return{"grid-column":t+1,"grid-row-start":i+1,"grid-row-end":i+r+1,"background-color":G.background,color:G.text,"border-color":G.background}},C=a=>a.duration/60>15,h=F(!1),_=F(null),O=a=>{_.value=a,h.value=!0},H=F(!1),R=async a=>{H.value=!0;const t={is_enabled:!0,priority:3,recording_folders:[],recording_start_margin:null,recording_end_margin:null,recording_mode:"SpecifiedService",caption_recording_mode:"Default",data_broadcasting_recording_mode:"Default",post_recording_mode:"Default",post_recording_bat_file_path:null,is_event_relay_follow_enabled:!0,is_exact_recording_enabled:!1,is_oneseg_separate_output_enabled:!1,is_sequential_recording_in_single_file_enabled:!1,forced_tuner_id:null};await at.addReservation(a,t)?(s.show("success","録画予約を追加しました。"),h.value=!1):s.show("error","録画予約の追加に失敗しました。"),H.value=!1},W=async()=>{try{await o.updateEPG(),s.show("success","EPG を更新しました。")}catch(a){s.show("error","EPG の更新に失敗しました。EDCBが起動していることを確認してください。"),console.error("EPG更新エラー:",a)}},L=async()=>{try{await o.reloadEPG(),s.show("success","EPG を再読み込みしました。")}catch(a){s.show("error","EPG の再読み込みに失敗しました。EDCBが起動していることを確認してください。"),console.error("EPG再読み込みエラー:",a)}};return ae(()=>{o.fetchTimetable()}),(a,t)=>(f(),x("div",Vt,[u(nt),d("main",null,[u(lt),d("div",Bt,[u(ot),d("div",Mt,[d("div",Gt,[d("div",{class:"channels-tab__buttons",style:q({"--tab-length":S.length,"--active-tab-index":l.value})},[(f(),x($,null,I(S,(n,i)=>u(N,{variant:"flat",class:"channels-tab__button",key:n.id,onClick:r=>v(n.id,i)},{default:y(()=>[B(T(n.name),1)]),_:2},1032,["onClick"])),64)),t[3]||(t[3]=d("div",{class:"channels-tab__highlight"},null,-1))],4)]),d("div",$t,[u(N,{onClick:M(o).setPreviousDate,class:"mr-2"},{default:y(()=>t[4]||(t[4]=[B("前日")])),_:1},8,["onClick"]),d("h2",Ht,T(D.value),1),u(N,{onClick:M(o).setNextDate,class:"ml-2"},{default:y(()=>t[5]||(t[5]=[B("翌日")])),_:1},8,["onClick"]),u(N,{onClick:M(o).setCurrentDate,class:"ml-4"},{default:y(()=>t[6]||(t[6]=[B("今日")])),_:1},8,["onClick"])])]),d("div",Rt,[M(o).is_loading?(f(),x("div",It,[u(et,{indeterminate:"",size:"64"})])):M(o).timetable_channels&&M(o).timetable_channels.length>0?(f(),x("div",Nt,[t[7]||(t[7]=d("div",{class:"corner-cell"},null,-1)),d("div",{class:"channels-header",style:q(m.value)},[(f(!0),x($,null,I(M(o).timetable_channels,n=>(f(),x("div",{key:n.channel.id,class:"channel-header-cell"},T(n.channel.name),1))),128))],4),d("div",Ot,[(f(),x($,null,I(25,n=>d("div",{key:n,class:"hour-label"},[d("span",Lt,T((n+3)%24),1)])),64))]),d("div",{class:"programs-grid",style:q(m.value)},[(f(!0),x($,null,I(M(o).timetable_channels.length,n=>(f(),x("div",{key:n,class:"channel-border",style:q({gridColumn:n})},null,4))),128)),(f(),x($,null,I(24,n=>d("div",{key:n,class:"hour-border",style:q({gridRow:n*60+1})},null,4)),64)),(f(!0),x($,null,I(M(o).timetable_channels,(n,i)=>(f(),x($,null,[(f(!0),x($,null,I(n.programs,r=>(f(),U(yt,{key:r.id,location:"top",disabled:C(r)},{activator:y(({props:p})=>[d("div",K({ref_for:!0},p,{class:"program-cell elevation-2",style:g(r,i),onClick:G=>O(r)}),[d("div",zt,[d("div",Wt,T(r.title),1),d("div",At,[r.is_free?z("",!0):(f(),x("span",Xt,"有料")),r.genres.length>0?(f(),x("span",Ft,T(r.genres[0].major),1)):z("",!0)])]),r.description&&r.duration>=900?(f(),x("div",jt,T(w(r.description,50)),1)):z("",!0),d("div",qt,T(E(r.start_time))+" - "+T(E(r.end_time))+" ("+T(Math.floor(r.duration/60))+"分)",1)],16,Yt)]),default:y(()=>[d("span",Ut,T(r.title),1)]),_:2},1032,["disabled"]))),128))],64))),256))],4)])):(f(),x("div",Zt,t[8]||(t[8]=[d("p",null,"番組情報を取得できませんでした。",-1),d("p",null,"指定された期間・チャンネルに放送される番組がありません。",-1)])))])])]),d("div",Jt,[u(N,{onClick:W,loading:M(o).is_loading,disabled:M(o).is_loading,color:"primary",variant:"tonal",size:"large",class:"epg-btn"},{default:y(()=>[u(Z,{icon:"mdi-download",class:"mr-1",size:"large"}),t[9]||(t[9]=d("span",null,"EPG獲得",-1))]),_:1},8,["loading","disabled"]),u(N,{onClick:L,loading:M(o).is_loading,disabled:M(o).is_loading,color:"secondary",variant:"tonal",size:"large",class:"epg-btn"},{default:y(()=>[u(Z,{icon:"mdi-refresh",class:"mr-1",size:"large"}),t[10]||(t[10]=d("span",null,"EPG再読み込み",-1))]),_:1},8,["loading","disabled"])]),u(Dt,{modelValue:h.value,"onUpdate:modelValue":t[2]||(t[2]=n=>h.value=n),location:"right",temporary:"",width:"600"},{default:y(()=>[_.value?(f(),U(ht,{key:0,class:"detail-panel"},{default:y(()=>[u(ft,{class:"text-h5 pb-2"},{default:y(()=>[B(T(_.value.title),1)]),_:1}),u(mt,{class:"pb-3"},{default:y(()=>[B(T(b(_.value.start_time))+" - "+T(b(_.value.end_time))+" ("+T(Math.floor(_.value.duration/60))+"分)",1)]),_:1}),u(ve,{class:"pt-0 pb-2"},{default:y(()=>[d("div",Kt,[_.value.is_free?z("",!0):(f(),U(ee,{key:0,color:"warning",size:"small",class:"mr-2 mb-2"},{default:y(()=>[u(Z,{start:""},{default:y(()=>t[11]||(t[11]=[B("mdi-currency-yen")])),_:1}),t[12]||(t[12]=B(" 有料放送 "))]),_:1})),_.value.video_resolution==="1080i"||_.value.video_resolution==="1080p"?(f(),U(ee,{key:1,color:"success",size:"small",class:"mr-2 mb-2"},{default:y(()=>[u(Z,{start:""},{default:y(()=>t[13]||(t[13]=[B("mdi-high-definition")])),_:1}),t[14]||(t[14]=B(" HD "))]),_:1})):z("",!0),(f(!0),x($,null,I(_.value.genres.slice(0,2),n=>(f(),U(ee,{key:n.major,color:"primary",variant:"outlined",size:"small",class:"mr-2 mb-2"},{default:y(()=>[B(T(n.major),1)]),_:2},1024))),128))])]),_:1}),u(ve,{class:"py-2"},{default:y(()=>[u(_t,{class:"mb-3"}),t[16]||(t[16]=d("h4",{class:"text-subtitle-1 mb-2"},"番組内容",-1)),d("p",Qt,T(_.value.description),1),_.value.detail&&Object.keys(_.value.detail).length>0?(f(),x("div",ea,[t[15]||(t[15]=d("h4",{class:"text-subtitle-1 mb-2"},"詳細情報",-1)),d("div",ta,[(f(!0),x($,null,I(_.value.detail,(n,i)=>(f(),x("div",{key:i,class:"detail-item"},[d("span",aa,T(i)+":",1),d("span",na,T(n),1)]))),128))])])):z("",!0)]),_:1}),u(gt,{class:"detail-panel__actions"},{default:y(()=>[u(ct),u(N,{loading:H.value,onClick:t[0]||(t[0]=n=>R(_.value.id)),color:"primary",variant:"elevated"},{default:y(()=>[u(Z,{start:""},{default:y(()=>t[17]||(t[17]=[B("mdi-record-rec")])),_:1}),t[18]||(t[18]=B(" 録画予約 "))]),_:1},8,["loading"]),u(N,{onClick:t[1]||(t[1]=n=>h.value=!1),variant:"outlined"},{default:y(()=>t[19]||(t[19]=[B("閉じる")])),_:1})]),_:1})]),_:1})):z("",!0)]),_:1},8,["modelValue"])]))}}),ya=tt(la,[["__scopeId","data-v-cf2ca11c"]]);export{ya as default};
