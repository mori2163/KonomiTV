import{d as ue,k as $,h as l,a,b as t,w as z,r as oe,c,e as h,t as u,y as P,U as I,P as X,W as ze,F as j,o as i,R as Z,_ as me,q as R,E as V,s as K,G as De,l as n,X as Ve,Y as $e,z as ee,J as He,Z as ve,V as q,$ as Ue,a0 as Ie,M as b,u as Le,a1 as Me,a2 as Oe,n as W,f as pe,p as J,j as Ae,L as Fe,g as qe,O as We}from"./index-DJnqFb91.js";import{V as ie}from"./VDialog-DAC-RvNQ.js";import{V as de,a as ne,b as he,c as we}from"./VCard-CCKEmTaz.js";import{V as be}from"./ssrBoot-DvxYJLiV.js";import{V as fe,a as re}from"./VRow-B2wsbuYS.js";import{V as te,a as T,b as je,c as U,d as Ye}from"./VSelect-BEmwMWVE.js";import{V as Ge,a as Ne}from"./VPagination-CCBA5pXF.js";import{V as Qe}from"./VTooltip-B1ueVVMM.js";import{O as Je}from"./manager-B_l_qcot.js";import{V as _e}from"./Videos-y6WHFsfm.js";import{V as ye}from"./VDivider-TTn6AwhD.js";import{V as Ce}from"./VSwitch-D2sK-9NJ.js";import{P as Xe}from"./PlayerUtils-BfTyTGZ4.js";const Ze={class:"px-5 pb-6"},Ke={class:"text-subtitle-1 d-flex align-center font-weight-bold mt-2"},et={class:"video-info__item"},tt={class:"video-info__item-value"},ot={class:"video-info__item"},at={class:"video-info__item-value"},lt={class:"video-info__item"},st={class:"video-info__item-value"},rt={class:"video-info__item"},it={class:"video-info__item-value"},dt={class:"text-subtitle-1 d-flex align-center font-weight-bold mt-3"},nt={class:"video-info__item"},ut={class:"video-info__item-value"},mt={class:"video-info__item"},ct={class:"video-info__item-value"},gt={class:"video-info__item"},vt={class:"video-info__item-value"},pt={class:"video-info__item"},ft={class:"video-info__item-value"},_t={class:"text-subtitle-1 d-flex align-center font-weight-bold mt-3"},yt={class:"video-info__item"},ht={class:"video-info__item-value"},wt={class:"video-info__item"},bt={class:"video-info__item-value"},xt={class:"video-info__item"},kt={class:"video-info__item-value"},Vt={key:0,class:"text-subtitle-1 d-flex align-center font-weight-bold mt-3"},$t={class:"video-info__item"},Mt={class:"video-info__item-value"},Ct={class:"video-info__item"},Ht={class:"video-info__item-value"},St={class:"video-info__item"},Bt={class:"video-info__item-value"},Pt=ue({__name:"RecordedFileInfoDialog",props:{program:{},show:{type:Boolean}},emits:["update:show"],setup(o){return(C,s)=>{const M=oe("Icon");return i(),$(ie,{"max-width":"770",transition:"slide-y-transition","model-value":o.show,"onUpdate:modelValue":s[1]||(s[1]=H=>C.$emit("update:show",H))},{default:l(()=>[a(de,{class:"video-info"},{default:l(()=>[a(ne,{class:"px-5 pt-6 pb-3 d-flex align-center font-weight-bold",style:{height:"60px"}},{default:l(()=>[a(M,{icon:"fluent:document-20-filled",height:"26px"}),s[2]||(s[2]=t("span",{class:"ml-3"},"録画ファイル情報",-1)),a(be),z((i(),c("div",{class:"d-flex align-center rounded-circle cursor-pointer px-2 py-2",onClick:s[0]||(s[0]=H=>C.$emit("update:show",!1))},[a(M,{icon:"fluent:dismiss-12-filled",width:"23px",height:"23px"})])),[[Z]])]),_:1}),t("div",Ze,[t("div",Ke,[a(M,{icon:"fluent:video-clip-20-filled",width:"24px",height:"20px"}),s[3]||(s[3]=t("span",{class:"ml-2"},"ファイル情報",-1))]),t("div",et,[s[4]||(s[4]=t("div",{class:"video-info__item-label"},"ファイルパス",-1)),t("div",tt,u(o.program.recorded_video.file_path),1)]),t("div",ot,[s[5]||(s[5]=t("div",{class:"video-info__item-label"},"ファイルサイズ",-1)),t("div",at,u(P(I).formatBytes(o.program.recorded_video.file_size)),1)]),t("div",lt,[s[6]||(s[6]=t("div",{class:"video-info__item-label"},"録画期間",-1)),t("div",st,u(P(X).getRecordingTime(o.program)),1)]),t("div",rt,[s[7]||(s[7]=t("div",{class:"video-info__item-label"},"最終更新日時",-1)),t("div",it,u(P(I).apply28HourClock(P(ze)(o.program.recorded_video.file_modified_at).format("YYYY/MM/DD (dd) HH:mm:ss"))),1)]),t("div",dt,[a(M,{icon:"fluent:video-20-filled",width:"24px",height:"20px"}),s[8]||(s[8]=t("span",{class:"ml-2"},"映像情報",-1))]),t("div",nt,[s[9]||(s[9]=t("div",{class:"video-info__item-label"},"コーデック",-1)),t("div",ut,u(o.program.recorded_video.video_codec)+" ("+u(o.program.recorded_video.video_codec_profile)+")",1)]),t("div",mt,[s[10]||(s[10]=t("div",{class:"video-info__item-label"},"解像度",-1)),t("div",ct,u(o.program.recorded_video.video_resolution_width)+"×"+u(o.program.recorded_video.video_resolution_height),1)]),t("div",gt,[s[11]||(s[11]=t("div",{class:"video-info__item-label"},"フレームレート",-1)),t("div",vt,u(o.program.recorded_video.video_frame_rate)+" fps",1)]),t("div",pt,[s[12]||(s[12]=t("div",{class:"video-info__item-label"},"スキャン方式",-1)),t("div",ft,u(o.program.recorded_video.video_scan_type),1)]),t("div",_t,[a(M,{icon:"fluent:speaker-2-20-filled",width:"24px",height:"20px"}),s[13]||(s[13]=t("span",{class:"ml-2"},"音声情報（主音声）",-1))]),t("div",yt,[s[14]||(s[14]=t("div",{class:"video-info__item-label"},"コーデック",-1)),t("div",ht,u(o.program.recorded_video.primary_audio_codec),1)]),t("div",wt,[s[15]||(s[15]=t("div",{class:"video-info__item-label"},"チャンネル",-1)),t("div",bt,u(o.program.recorded_video.primary_audio_channel),1)]),t("div",xt,[s[16]||(s[16]=t("div",{class:"video-info__item-label"},"サンプリングレート",-1)),t("div",kt,u(o.program.recorded_video.primary_audio_sampling_rate?`${o.program.recorded_video.primary_audio_sampling_rate/1e3}kHz`:"不明"),1)]),o.program.recorded_video.secondary_audio_codec?(i(),c("div",Vt,[a(M,{icon:"fluent:speaker-2-20-filled",width:"24px",height:"20px"}),s[17]||(s[17]=t("span",{class:"ml-2"},"音声情報（副音声）",-1))])):h("",!0),o.program.recorded_video.secondary_audio_codec?(i(),c(j,{key:1},[t("div",$t,[s[18]||(s[18]=t("div",{class:"video-info__item-label"},"コーデック",-1)),t("div",Mt,u(o.program.recorded_video.secondary_audio_codec),1)]),t("div",Ct,[s[19]||(s[19]=t("div",{class:"video-info__item-label"},"チャンネル",-1)),t("div",Ht,u(o.program.recorded_video.secondary_audio_channel),1)]),t("div",St,[s[20]||(s[20]=t("div",{class:"video-info__item-label"},"サンプリングレート",-1)),t("div",Bt,u(o.program.recorded_video.secondary_audio_sampling_rate?`${o.program.recorded_video.secondary_audio_sampling_rate/1e3}kHz`:"不明"),1)])],64)):h("",!0)])]),_:1})]),_:1},8,["model-value"])}}}),Tt=me(Pt,[["__scopeId","data-v-904f7233"]]),Et={class:"encoding-dialog__program-info mb-4"},Rt={class:"encoding-dialog__program-title"},zt={key:0,class:"encoding-dialog__program-meta"},Dt={class:"encoding-dialog__program-channel"},Ut={class:"encoding-dialog__program-time"},It={class:"encoding-dialog__settings"},Lt={class:"d-flex align-center"},Ot={class:"text-caption"},At={class:"d-flex align-center"},Ft={class:"text-caption"},qt={class:"d-flex align-center"},Wt={class:"text-caption"},jt={class:"d-flex align-center"},Yt=ue({__name:"TSReplaceEncodingDialog",props:{show:{type:Boolean,default:!1},program:{}},emits:["update:show","encoding-started"],setup(o,{emit:C}){const s=o,M=C,H=R({get:()=>s.show,set:f=>M("update:show",f)}),p=V(!1),E=V(!1),v=V("h264"),m=V("software"),_=V("medium"),w=V(!1),D=[{value:"h264",label:"H.264 (AVC)",description:"互換性が高く、多くのデバイスで再生可能",recommended:!0},{value:"hevc",label:"H.265 (HEVC)",description:"より高い圧縮効率、ファイルサイズが小さくなる",recommended:!1}],Y=R(()=>[{value:"software",label:"ソフトウェアエンコード",description:"FFmpegを使用、時間がかかる",disabled:!1,fast:!1},{value:"hardware",label:"ハードウェアエンコード",description:E.value?"GPU/専用チップを使用、高速で高品質":"使用できません（対応するGPUが検出されませんでした）",disabled:!E.value,fast:!0}]),G=[{value:"fast",label:"高速",description:"エンコード時間を優先、品質は標準的",recommended:!1},{value:"medium",label:"標準",description:"バランスの取れた設定",recommended:!0},{value:"slow",label:"高品質",description:"品質を優先、エンコード時間は長くなる",recommended:!1}],L=R(()=>!(p.value||!s.program||s.program.recorded_video.is_tsreplace_encoded||m.value==="hardware"&&!E.value)),N=async()=>{try{const f=await Ue.fetchHardwareEncoderStatus();E.value=f.hardware_encoder_available,!f.hardware_encoder_available&&m.value==="hardware"&&(m.value="software")}catch(f){console.error("Failed to check hardware encoder availability:",f),E.value=!1,m.value==="hardware"&&(m.value="software")}},ce=async()=>{var f,r;if(!(!s.program||!L.value)){p.value=!0;try{const y=await Ie.startManualEncoding({video_id:s.program.id,codec:v.value,encoder_type:m.value,quality_preset:_.value,delete_original:w.value});y&&y.success&&y.task_id?(b.success("エンコードを開始しました。"),M("encoding-started",y.task_id,v.value,m.value),p.value=!1,ae()):b.error("エンコードの開始に失敗しました。")}catch(y){if(console.error("Failed to start encoding:",y),(r=(f=y==null?void 0:y.response)==null?void 0:f.data)!=null&&r.detail){const S=y.response.data.detail;S==="Cannot re-encode already encoded video"?b.error("再エンコード済みの動画は再度エンコードできません。"):b.error(`エンコードの開始に失敗しました: ${S}`)}else b.error("エンコードの開始に失敗しました。")}finally{p.value=!1}}},ae=()=>{p.value||(H.value=!1)};return K(()=>s.show,f=>{f&&(N(),v.value="h264",m.value="software",_.value="medium",w.value=!1,p.value=!1)}),De(()=>{N()}),(f,r)=>{const y=oe("Icon");return i(),$(ie,{modelValue:H.value,"onUpdate:modelValue":r[4]||(r[4]=S=>H.value=S),"max-width":"600",persistent:""},{default:l(()=>[a(de,null,{default:l(()=>[a(ne,{class:"d-flex justify-center pt-6 font-weight-bold"},{default:l(()=>[...r[5]||(r[5]=[n(" 録画ファイルを再エンコード ",-1)])]),_:1}),a(he,{class:"pt-4 pb-0"},{default:l(()=>{var S,O,Q,le;return[t("div",Et,[t("div",Rt,u(((S=o.program)==null?void 0:S.title)||"取得中..."),1),o.program?(i(),c("div",zt,[t("span",Dt,u(((O=o.program.channel)==null?void 0:O.name)||"チャンネル情報なし"),1),t("span",Ut,u(P(X).getProgramTime(o.program)),1)])):h("",!0)]),t("div",It,[a(fe,null,{default:l(()=>[a(re,{cols:"12",md:"6"},{default:l(()=>[a(te,{modelValue:v.value,"onUpdate:modelValue":r[0]||(r[0]=x=>v.value=x),items:D,"item-title":"label","item-value":"value",label:"エンコードコーデック",variant:"outlined",density:"comfortable","hide-details":"auto",disabled:p.value},{item:l(({props:x,item:B})=>[a(T,Ve($e(x)),{title:l(()=>[t("div",Lt,[t("span",null,u(B.raw.label),1),B.raw.recommended?(i(),$(ee,{key:0,size:"x-small",color:"primary",class:"ml-2"},{default:l(()=>[...r[6]||(r[6]=[n(" 推奨 ",-1)])]),_:1})):h("",!0)])]),subtitle:l(()=>[t("span",Ot,u(B.raw.description),1)]),_:2},1040)]),_:1},8,["modelValue","disabled"])]),_:1}),a(re,{cols:"12",md:"6"},{default:l(()=>[a(te,{modelValue:m.value,"onUpdate:modelValue":r[1]||(r[1]=x=>m.value=x),items:Y.value,"item-title":"label","item-value":"value",label:"エンコーダータイプ",variant:"outlined",density:"comfortable","hide-details":"auto",disabled:p.value},{item:l(({props:x,item:B})=>[a(T,He(x,{disabled:B.raw.disabled}),{title:l(()=>[t("div",At,[t("span",null,u(B.raw.label),1),B.raw.fast?(i(),$(ee,{key:0,size:"x-small",color:"success",class:"ml-2"},{default:l(()=>[...r[7]||(r[7]=[n(" 高速 ",-1)])]),_:1})):h("",!0)])]),subtitle:l(()=>[t("span",Ft,u(B.raw.description),1)]),_:2},1040,["disabled"])]),_:1},8,["modelValue","items","disabled"])]),_:1})]),_:1}),a(fe,null,{default:l(()=>[a(re,{cols:"12"},{default:l(()=>[a(te,{modelValue:_.value,"onUpdate:modelValue":r[2]||(r[2]=x=>_.value=x),items:G,"item-title":"label","item-value":"value",label:"エンコード品質",variant:"outlined",density:"comfortable","hide-details":"auto",disabled:p.value},{item:l(({props:x,item:B})=>[a(T,Ve($e(x)),{title:l(()=>[t("div",qt,[t("span",null,u(B.raw.label),1),B.raw.recommended?(i(),$(ee,{key:0,size:"x-small",color:"primary",class:"ml-2"},{default:l(()=>[...r[8]||(r[8]=[n(" 推奨 ",-1)])]),_:1})):h("",!0)])]),subtitle:l(()=>[t("span",Wt,u(B.raw.description),1)]),_:2},1040)]),_:1},8,["modelValue","disabled"])]),_:1})]),_:1}),!E.value&&m.value==="hardware"?(i(),$(ve,{key:0,type:"warning",variant:"tonal",class:"mt-4"},{title:l(()=>[...r[9]||(r[9]=[n("ハードウェアエンコーダーが利用できません",-1)])]),default:l(()=>[r[10]||(r[10]=n(" ハードウェアエンコーダーが検出されないか、設定で無効になっています。",-1)),r[11]||(r[11]=t("br",null,null,-1)),r[12]||(r[12]=n(" ソフトウェアエンコードを使用してください。 ",-1))]),_:1})):h("",!0),(Q=o.program)!=null&&Q.recorded_video.is_tsreplace_encoded?(i(),$(ve,{key:1,type:"error",variant:"tonal",class:"mt-4"},{title:l(()=>[...r[13]||(r[13]=[n("再エンコード済みの動画です",-1)])]),default:l(()=>[r[14]||(r[14]=n(" この録画ファイルは既に再エンコード済みです。",-1)),r[15]||(r[15]=t("br",null,null,-1)),r[16]||(r[16]=n(" 再エンコード済みの動画は再度エンコードできません。 ",-1))]),_:1})):((le=o.program)==null?void 0:le.recorded_video.video_codec)!=="MPEG-2"?(i(),$(ve,{key:2,type:"info",variant:"tonal",class:"mt-4"},{title:l(()=>[...r[17]||(r[17]=[n("既にエンコード済みのファイルです",-1)])]),default:l(()=>{var x;return[n(" この録画ファイルは既に "+u((x=o.program)==null?void 0:x.recorded_video.video_codec)+" でエンコードされています。",1),r[18]||(r[18]=t("br",null,null,-1)),r[19]||(r[19]=n(" 再エンコードすると画質が劣化する可能性があります。 ",-1))]}),_:1})):h("",!0),a(fe,{class:"mt-4"},{default:l(()=>[a(re,{cols:"12"},{default:l(()=>[a(Ge,{modelValue:w.value,"onUpdate:modelValue":r[3]||(r[3]=x=>w.value=x),disabled:p.value,label:"エンコード完了後に元ファイルを削除する","hide-details":"auto"},{label:l(()=>[t("div",jt,[r[21]||(r[21]=t("span",null,"エンコード完了後に元ファイルを削除する",-1)),a(Qe,{activator:"parent",location:"top"},{default:l(()=>[...r[20]||(r[20]=[t("span",null,[n("チェックすると、エンコード完了後に元のファイルが自動的に削除されます。"),t("br"),n(" 削除されたファイルは復元できませんので、十分注意してください。")],-1)])]),_:1})])]),_:1},8,["modelValue","disabled"])]),_:1})]),_:1})])]}),_:1}),a(we,{class:"pt-4 px-6 pb-6"},{default:l(()=>[a(be),a(q,{color:"text",variant:"text",onClick:ae,disabled:p.value},{default:l(()=>[a(y,{icon:"fluent:dismiss-20-regular",width:"18px",height:"18px"}),r[22]||(r[22]=t("span",{class:"ml-1"},"キャンセル",-1))]),_:1},8,["disabled"]),a(q,{class:"px-3",color:"primary",variant:"flat",onClick:ce,disabled:!L.value,loading:p.value},{default:l(()=>[a(y,{icon:"fluent:arrow-sync-20-regular",width:"18px",height:"18px"}),r[23]||(r[23]=t("span",{class:"ml-1"},"エンコード開始",-1))]),_:1},8,["disabled","loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}}}),Gt=me(Yt,[["__scopeId","data-v-b3c29d59"]]),Nt={class:"recorded-program__container"},Qt={class:"recorded-program__thumbnail"},Jt=["src"],Xt={class:"recorded-program__thumbnail-duration"},Zt={key:0,class:"recorded-program__thumbnail-status recorded-program__thumbnail-status--recording"},Kt={key:1,class:"recorded-program__thumbnail-status recorded-program__thumbnail-status--failed"},eo={key:2,class:"recorded-program__thumbnail-status recorded-program__thumbnail-status--analyzing"},to={key:3,class:"recorded-program__thumbnail-status recorded-program__thumbnail-status--partial"},oo={key:4,class:"recorded-program__thumbnail-status recorded-program__thumbnail-status--downloading"},ao={key:5,class:"recorded-program__thumbnail-status recorded-program__thumbnail-status--encoding"},lo={key:6,class:"recorded-program__thumbnail-status recorded-program__thumbnail-status--encoded"},so={key:7,class:"recorded-program__thumbnail-progress"},ro={key:8,class:"recorded-program__thumbnail-progress recorded-program__thumbnail-progress--downloading"},io={key:9,class:"recorded-program__thumbnail-progress recorded-program__thumbnail-progress--encoding"},no={class:"recorded-program__content"},uo=["innerHTML"],mo={class:"recorded-program__content-meta"},co={key:0,class:"recorded-program__content-meta-broadcaster"},go=["src"],vo={class:"recorded-program__content-meta-broadcaster-name"},po={key:1,class:"recorded-program__content-meta-broadcaster"},fo={key:2,class:"recorded-program__content-meta-downloading"},_o={key:3,class:"recorded-program__content-meta-encoded"},yo={class:"recorded-program__content-meta-time"},ho=["innerHTML"],wo={key:0,width:"22px",height:"22px",viewBox:"0 0 16 16"},bo={key:0,width:"22px",height:"22px",viewBox:"0 0 16 16"},xo={key:1,width:"22px",height:"22px",viewBox:"0 0 15.2 15.2"},ko={class:"recorded-program__menu"},Vo={class:"delete-confirmation__file-path mb-4"},$o=ue({__name:"RecordedProgram",props:{program:{},forMylist:{type:Boolean,default:!1},forWatchedHistory:{type:Boolean,default:!1}},emits:["deleted","encoding-started"],setup(o,{emit:C}){const s=o,M=C,H=V(!1),p=V(!1),E=V(!1),v=V(!1),m=V(!1),_=Le(),w=Me(),D=Oe(),Y=V(_.settings.video_streaming_quality),G=V(_.settings.video_data_saver_mode),L=V(!0),N=R(()=>Xe.isHEVCVideoSupported()),ce=d=>d==="1080p-60fps"?"1080p (60fps)":d,ae=R(()=>["1080p-60fps","1080p","810p","720p","540p","480p","360p","240p"].map(e=>({label:ce(e),value:e}))),f=R(()=>w.getAllTasks().some(e=>e.programTitle===s.program.title&&["queued","processing"].includes(e.status))),r=R(()=>D.downloads.some(d=>d.video_id===s.program.id&&["downloading","completed"].includes(d.status))),y=R(()=>D.downloads.some(d=>d.video_id===s.program.id&&d.status==="downloading")),S=R(()=>{const d=D.downloads.find(g=>g.video_id===s.program.id&&g.status==="downloading");if(!d)return null;const e=D.progress[d.id];if(e){const g=e.total_segments>0?e.downloaded_segments/e.total_segments*100:0;return{percent:Math.round(g),downloaded_segments:e.downloaded_segments,total_segments:e.total_segments}}else if(d.segment_count>0){const g=d.segments.length,se=g/d.segment_count*100;return{percent:Math.round(se),downloaded_segments:g,total_segments:d.segment_count}}return null}),O=R(()=>{const e=w.getAllTasks().find(g=>g.programTitle===s.program.title&&["queued","processing"].includes(g.status));return e?{progress:e.progress,status:e.status,codec:e.codec,encoderType:e.encoderType}:null}),Q=(d="original")=>{const e=`${I.api_base_url}/videos/${s.program.id}/download?file_type=${d}`;window.location.href=e},le=()=>{E.value=!0},x=(d,e,g)=>{Me().addTask(d,s.program.title,e,g),M("encoding-started",d),console.log("Encoding started with task ID:",d)},B=async()=>{b.success("メタデータの再解析を開始します。完了までしばらくお待ちください。"),await _e.reanalyzeVideo(s.program.id)===!0&&b.success("メタデータの再解析が完了しました。")},xe=async(d=!1)=>{b.success("サムネイルの再作成を開始しました。完了までしばらくお待ちください。"),await _e.regenerateThumbnail(s.program.id,d)===!0&&b.success("サムネイルの再作成が完了しました。")},Se=()=>{_.settings.mylist.some(e=>e.type==="RecordedProgram"&&e.id===s.program.id)?(_.settings.mylist=_.settings.mylist.filter(e=>!(e.type==="RecordedProgram"&&e.id===s.program.id)),b.show("マイリストから削除しました。")):(_.settings.mylist.push({type:"RecordedProgram",id:s.program.id,created_at:I.time()}),b.success("マイリストに追加しました。"))},ge=R(()=>_.settings.mylist.some(d=>d.type==="RecordedProgram"&&d.id===s.program.id)),ke=R(()=>_.settings.watched_history.find(d=>d.video_id===s.program.id)),Be=()=>{_.settings.watched_history=_.settings.watched_history.filter(d=>d.video_id!==s.program.id),b.show("視聴履歴から削除しました。")},Pe=()=>{const d=Fe();if(d.user===null||d.user.is_admin===!1){b.warning(`録画ファイルを削除するには管理者権限が必要です。
管理者アカウントでログインし直してください。`);return}p.value=!0},Te=async()=>{p.value=!1,b.info("録画ファイルの削除を開始します。完了までしばらくお待ちください。"),await _e.deleteVideo(s.program.id)===!0&&(b.success("録画ファイルを削除しました。"),M("deleted",s.program.id))},Ee=async()=>{if(D.initialized===!1&&await D.initialize(),D.initialization_error!==null){b.error(D.initialization_error);return}Y.value=_.settings.video_streaming_quality,G.value=_.settings.video_data_saver_mode,L.value=!0,v.value=!0,m.value=!1},Re=async()=>{if(r.value){b.warning("このビデオは既にオフライン保存されています。"),v.value=!1;return}m.value=!0;try{await Je.startDownload(s.program,{quality:Y.value,isHevc:G.value,saveComments:L.value}),v.value=!1,b.success("オフライン保存を開始しました。")}catch(d){if(d instanceof DOMException&&d.name==="AbortError")b.info("オフライン保存を中止しました。");else{console.error("[RecordedProgram] Failed to start offline download.",d);const e=d instanceof Error&&d.message?d.message:"オフライン保存を開始できませんでした。";b.error(e)}}finally{m.value=!1}};return(d,e)=>{const g=oe("Icon"),se=oe("router-link"),A=Ae("ftooltip");return i(),c(j,null,[z((i(),$(se,{class:W(["recorded-program",{"recorded-program--recording":o.program.recorded_video.status==="Recording","recorded-program--analyzing":!o.program.recorded_video.has_key_frames&&o.program.recorded_video.status!=="AnalysisFailed","recorded-program--failed":o.program.recorded_video.status==="AnalysisFailed","recorded-program--downloading":y.value,"recorded-program--encoding":f.value}]),to:o.program.recorded_video.status==="Recorded"&&o.program.recorded_video.has_key_frames||f.value?`/videos/watch/${o.program.id}`:{path:""}},{default:l(()=>{var k;return[t("div",Nt,[t("div",Qt,[t("img",{class:"recorded-program__thumbnail-image",loading:"lazy",decoding:"async",src:`${P(I).api_base_url}/videos/${o.program.id}/thumbnail`},null,8,Jt),t("div",Xt,u(P(X).getProgramDuration(o.program)),1),o.program.recorded_video.status==="Recording"?(i(),c("div",Zt,[...e[19]||(e[19]=[t("div",{class:"recorded-program__thumbnail-status-dot"},null,-1),n(" 録画中 ",-1)])])):o.program.recorded_video.status==="AnalysisFailed"?(i(),c("div",Kt,[a(g,{icon:"fluent:error-circle-12-regular",width:"15px",height:"15px"}),e[20]||(e[20]=n(" メタデータ解析失敗 ",-1))])):o.program.recorded_video.has_key_frames?o.program.is_partially_recorded?(i(),c("div",to," ⚠️ 一部のみ録画 ")):y.value&&S.value?(i(),c("div",oo,[a(g,{icon:"fluent:arrow-download-16-regular",width:"15px",height:"15px",class:"recorded-program__thumbnail-status-icon--pulse"}),n(" オフライン保存中 ("+u(S.value.percent)+"%) ",1)])):f.value&&O.value?(i(),c("div",ao,[a(g,{icon:"fluent:arrow-sync-12-regular",width:"15px",height:"15px",class:"recorded-program__thumbnail-status-icon--spin"}),n(" エンコード中 ("+u(Math.round(O.value.progress))+"%) ",1)])):(k=o.program)!=null&&k.recorded_video.is_tsreplace_encoded?(i(),c("div",lo,[a(g,{icon:"fluent:checkmark-circle-12-regular",width:"15px",height:"15px"}),e[22]||(e[22]=n(" 再エンコード済み ",-1))])):h("",!0):(i(),c("div",eo,[a(g,{icon:"fluent:clock-12-regular",width:"15px",height:"15px"}),e[21]||(e[21]=n(" メタデータ解析中 ",-1))])),ke.value&&!f.value&&!y.value?(i(),c("div",so,[t("div",{class:"recorded-program__thumbnail-progress-bar",style:pe(`width: ${ke.value.last_playback_position/o.program.recorded_video.duration*100}%`)},null,4)])):y.value&&S.value?(i(),c("div",ro,[t("div",{class:"recorded-program__thumbnail-progress-bar recorded-program__thumbnail-progress-bar--downloading",style:pe(`width: ${S.value.percent}%`)},null,4)])):f.value&&O.value?(i(),c("div",io,[t("div",{class:"recorded-program__thumbnail-progress-bar recorded-program__thumbnail-progress-bar--encoding",style:pe(`width: ${O.value.progress}%`)},null,4)])):h("",!0)]),t("div",no,[t("div",{class:"recorded-program__content-title",innerHTML:P(X).decorateProgramInfo(o.program,"title")},null,8,uo),t("div",mo,[o.program.channel?(i(),c("div",co,[t("img",{class:"recorded-program__content-meta-broadcaster-icon",loading:"lazy",decoding:"async",src:`${P(I).api_base_url}/channels/${o.program.channel.id}/logo`},null,8,go),t("span",vo,"Ch: "+u(o.program.channel.channel_number)+" "+u(o.program.channel.name),1)])):(i(),c("div",po,[...e[23]||(e[23]=[t("span",{class:"recorded-program__content-meta-broadcaster-name"},"チャンネル情報なし",-1)])])),y.value&&S.value?(i(),c("div",fo,[a(ee,{size:"x-small",color:"primary",variant:"tonal"},{default:l(()=>[a(g,{icon:"fluent:arrow-download-16-regular",width:"12px",height:"12px",class:"mr-1"}),n(" オフライン保存中 ("+u(S.value.percent)+"%) ",1)]),_:1})])):h("",!0),o.program.recorded_video.is_tsreplace_encoded?(i(),c("div",_o,[a(ee,{size:"x-small",color:"success",variant:"tonal"},{default:l(()=>[a(g,{icon:"fluent:checkmark-circle-12-regular",width:"12px",height:"12px",class:"mr-1"}),e[24]||(e[24]=n(" 再エンコード済み ",-1))]),_:1})])):h("",!0),t("div",yo,u(P(X).getProgramTime(o.program)),1)]),t("div",{class:"recorded-program__content-description",innerHTML:P(X).decorateProgramInfo(o.program,"description")},null,8,ho)]),o.forWatchedHistory?h("",!0):z((i(),c("div",{key:0,class:W(["recorded-program__mylist",{"recorded-program__mylist--highlight":ge.value&&!o.forMylist}]),onClick:J(Se,["prevent","stop"]),onMousedown:e[0]||(e[0]=J(()=>{},["prevent","stop"]))},[o.forMylist?(i(),c("svg",wo,[...e[25]||(e[25]=[t("path",{fill:"currentColor",d:"M7 3h2a1 1 0 0 0-2 0M6 3a2 2 0 1 1 4 0h4a.5.5 0 0 1 0 1h-.564l-1.205 8.838A2.5 2.5 0 0 1 9.754 15H6.246a2.5 2.5 0 0 1-2.477-2.162L2.564 4H2a.5.5 0 0 1 0-1zm1 3.5a.5.5 0 0 0-1 0v5a.5.5 0 0 0 1 0zM9.5 6a.5.5 0 0 0-.5.5v5a.5.5 0 0 0 1 0v-5a.5.5 0 0 0-.5-.5"},null,-1)])])):(i(),c(j,{key:1},[ge.value?(i(),c("svg",bo,[...e[26]||(e[26]=[t("path",{fill:"currentColor",d:"M14.046 3.486a.75.75 0 0 1-.032 1.06l-7.93 7.474a.85.85 0 0 1-1.188-.022l-2.68-2.72a.75.75 0 1 1 1.068-1.053l2.234 2.267l7.468-7.038a.75.75 0 0 1 1.06.032"},null,-1)])])):(i(),c("svg",xo,[...e[27]||(e[27]=[t("path",{fill:"currentColor",d:"M8 2.5a.5.5 0 0 0-1 0V7H2.5a.5.5 0 0 0 0 1H7v4.5a.5.5 0 0 0 1 0V8h4.5a.5.5 0 0 0 0-1H8z"},null,-1)])]))],64))],34)),[[Z],[A,ge.value?"マイリストから削除する":"マイリストに追加する"]]),o.forWatchedHistory?z((i(),c("div",{key:1,class:"recorded-program__mylist",onClick:J(Be,["prevent","stop"]),onMousedown:e[1]||(e[1]=J(()=>{},["prevent","stop"]))},[...e[28]||(e[28]=[t("svg",{width:"22px",height:"22px",viewBox:"0 0 16 16"},[t("path",{fill:"currentColor",d:"M7 3h2a1 1 0 0 0-2 0M6 3a2 2 0 1 1 4 0h4a.5.5 0 0 1 0 1h-.564l-1.205 8.838A2.5 2.5 0 0 1 9.754 15H6.246a2.5 2.5 0 0 1-2.477-2.162L2.564 4H2a.5.5 0 0 1 0-1zm1 3.5a.5.5 0 0 0-1 0v5a.5.5 0 0 0 1 0zM9.5 6a.5.5 0 0 0-.5.5v5a.5.5 0 0 0 1 0v-5a.5.5 0 0 0-.5-.5"})],-1)])],32)),[[Z],[A,"視聴履歴から削除する"]]):h("",!0),t("div",ko,[a(Ye,{location:"bottom end","close-on-content-click":!0,disabled:y.value},{activator:l(({props:F})=>[z((i(),c("div",He({class:["recorded-program__menu-button",{"recorded-program__menu-button--disabled":y.value}]},F,{onClick:e[2]||(e[2]=J(()=>{},["prevent","stop"])),onMousedown:e[3]||(e[3]=J(()=>{},["prevent","stop"]))}),[...e[29]||(e[29]=[t("svg",{width:"19px",height:"19px",viewBox:"0 0 16 16"},[t("path",{fill:"currentColor",d:"M9.5 13a1.5 1.5 0 1 1-3 0a1.5 1.5 0 0 1 3 0m0-5a1.5 1.5 0 1 1-3 0a1.5 1.5 0 0 1 3 0m0-5a1.5 1.5 0 1 1-3 0a1.5 1.5 0 0 1 3 0"})],-1)])],16)),[[Z]])]),default:l(()=>[a(je,{density:"compact","bg-color":"background-lighten-1",class:"recorded-program__menu-list"},{default:l(()=>[a(T,{onClick:e[4]||(e[4]=F=>H.value=!0)},{prepend:l(()=>[...e[30]||(e[30]=[t("svg",{width:"20px",height:"20px",viewBox:"0 0 16 16"},[t("path",{fill:"currentColor",d:"M8.499 7.5a.5.5 0 1 0-1 0v3a.5.5 0 0 0 1 0zm.25-2a.749.749 0 1 1-1.499 0a.749.749 0 0 1 1.498 0M8 1a7 7 0 1 0 0 14A7 7 0 0 0 8 1M2 8a6 6 0 1 1 12 0A6 6 0 0 1 2 8"})],-1)])]),default:l(()=>[a(U,{class:"ml-3"},{default:l(()=>[...e[31]||(e[31]=[n("録画ファイル情報を表示",-1)])]),_:1})]),_:1}),o.program.recorded_video.is_tsreplace_encoded?(i(),c(j,{key:0},[a(T,{onClick:e[5]||(e[5]=F=>Q("original")),disabled:o.program.recorded_video.status==="Recording"||f.value},{prepend:l(()=>[a(g,{icon:"fluent:arrow-download-24-regular",width:"20px",height:"20px"})]),default:l(()=>[a(U,{class:"ml-3"},{default:l(()=>[n("元ファイルをダウンロード ("+u(P(I).formatBytes(o.program.recorded_video.file_size))+")",1)]),_:1})]),_:1},8,["disabled"]),a(T,{onClick:e[6]||(e[6]=F=>Q("encoded")),disabled:o.program.recorded_video.status==="Recording"||f.value},{prepend:l(()=>[a(g,{icon:"fluent:arrow-download-24-regular",width:"20px",height:"20px"})]),default:l(()=>[a(U,{class:"ml-3"},{default:l(()=>[...e[32]||(e[32]=[n("エンコード済みファイルをダウンロード",-1)])]),_:1})]),_:1},8,["disabled"])],64)):(i(),$(T,{key:1,onClick:e[7]||(e[7]=F=>Q("original")),disabled:o.program.recorded_video.status==="Recording"||f.value},{prepend:l(()=>[a(g,{icon:"fluent:arrow-download-24-regular",width:"20px",height:"20px"})]),default:l(()=>[a(U,{class:"ml-3"},{default:l(()=>[n("録画ファイルをダウンロード ("+u(P(I).formatBytes(o.program.recorded_video.file_size))+")",1)]),_:1})]),_:1},8,["disabled"])),z((i(),$(T,{onClick:B},{prepend:l(()=>[a(g,{icon:"fluent:book-arrow-clockwise-20-regular",width:"20px",height:"20px"})]),default:l(()=>[a(U,{class:"ml-3"},{default:l(()=>[...e[33]||(e[33]=[n("メタデータを再解析",-1)])]),_:1})]),_:1})),[[A,"再生時に必要な録画ファイル情報や番組情報などを解析し直します"]]),z((i(),$(T,{onClick:e[8]||(e[8]=F=>xe(!0))},{prepend:l(()=>[a(g,{icon:"fluent:image-arrow-counterclockwise-24-regular",width:"20px",height:"20px"})]),default:l(()=>[a(U,{class:"ml-3"},{default:l(()=>[...e[34]||(e[34]=[n("サムネイルを更新",-1)])]),_:1})]),_:1})),[[A,"既存のシークバー用サムネイルから代表サムネイルを選び直します 変更反映にはブラウザキャッシュの削除が必要です"]]),z((i(),$(T,{onClick:e[9]||(e[9]=F=>xe(!1))},{prepend:l(()=>[a(g,{icon:"fluent:image-arrow-counterclockwise-24-regular",width:"20px",height:"20px"})]),default:l(()=>[a(U,{class:"ml-3"},{default:l(()=>[...e[35]||(e[35]=[n("サムネイルを再作成",-1)])]),_:1})]),_:1})),[[A,"サムネイルを完全に作り直します（数分かかります） 変更反映にはブラウザキャッシュの削除が必要です"]]),a(ye),z((i(),$(T,{onClick:Ee,disabled:o.program.recorded_video.status==="Recording"||f.value||r.value},{prepend:l(()=>[a(g,{icon:"fluent:arrow-download-24-regular",width:"20px",height:"20px"})]),default:l(()=>[a(U,{class:"ml-3"},{default:l(()=>[...e[36]||(e[36]=[n("オフライン保存",-1)])]),_:1})]),_:1},8,["disabled"])),[[A,r.value?"すでにオフライン保存済みです":"ネットワークがなくても視聴できるようダウンロードします"]]),a(ye),z((i(),$(T,{onClick:le,disabled:o.program.recorded_video.status==="Recording"||f.value||o.program.recorded_video.is_tsreplace_encoded},{prepend:l(()=>[a(g,{icon:"fluent:arrow-sync-20-regular",width:"20px",height:"20px"})]),default:l(()=>[a(U,{class:"ml-3"},{default:l(()=>[...e[37]||(e[37]=[n("録画ファイルを再エンコード",-1)])]),_:1})]),_:1},8,["disabled"])),[[A,o.program.recorded_video.is_tsreplace_encoded?"再エンコード済みの動画は再度エンコードできません":"録画ファイルをH.264またはHEVCに再エンコードします"]]),a(ye),a(T,{onClick:Pe,disabled:o.program.recorded_video.status==="Recording"||f.value,class:"recorded-program__menu-list-item--danger"},{prepend:l(()=>[a(g,{icon:"fluent:delete-24-regular",width:"20px",height:"20px"})]),default:l(()=>[a(U,{class:"ml-3"},{default:l(()=>[...e[38]||(e[38]=[n("録画ファイルを削除",-1)])]),_:1})]),_:1},8,["disabled"])]),_:1})]),_:1},8,["disabled"])])])]}),_:1},8,["to","class"])),[[Z]]),a(Tt,{program:o.program,show:H.value,"onUpdate:show":e[10]||(e[10]=k=>H.value=k)},null,8,["program","show"]),a(ie,{"max-width":"750",modelValue:p.value,"onUpdate:modelValue":e[12]||(e[12]=k=>p.value=k)},{default:l(()=>[a(de,null,{default:l(()=>[a(ne,{class:"d-flex justify-center pt-6 font-weight-bold"},{default:l(()=>[...e[39]||(e[39]=[n("本当に録画ファイルを削除しますか？",-1)])]),_:1}),a(he,{class:"pt-2 pb-0"},{default:l(()=>[t("div",Vo,u(o.program.recorded_video.file_path),1),e[40]||(e[40]=t("div",{class:"text-error-lighten-1 font-weight-bold"},[n(" この録画ファイルに関連するすべてのデータ (サムネイル / .ts.program.txt / .ts.err を含む) が削除されます。"),t("br"),n(" 元に戻すことはできません。本当に録画ファイルを削除しますか？ ")],-1))]),_:1}),a(we,{class:"pt-4 px-6 pb-6"},{default:l(()=>[a(be),a(q,{color:"text",variant:"text",onClick:e[11]||(e[11]=k=>p.value=!1)},{default:l(()=>[a(g,{icon:"fluent:dismiss-20-regular",width:"18px",height:"18px"}),e[41]||(e[41]=t("span",{class:"ml-1"},"キャンセル",-1))]),_:1}),a(q,{class:"px-3",color:"error",variant:"flat",onClick:Te},{default:l(()=>[a(g,{icon:"fluent:delete-20-regular",width:"18px",height:"18px"}),e[42]||(e[42]=t("span",{class:"ml-1"},"録画ファイルを削除",-1))]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(Gt,{show:E.value,"onUpdate:show":e[13]||(e[13]=k=>E.value=k),program:o.program,onEncodingStarted:x},null,8,["show","program"]),a(ie,{modelValue:v.value,"onUpdate:modelValue":e[18]||(e[18]=k=>v.value=k),"max-width":"420"},{default:l(()=>[a(de,null,{default:l(()=>[a(ne,{class:"text-subtitle-1 font-weight-bold"},{default:l(()=>[...e[43]||(e[43]=[n("オフライン保存",-1)])]),_:1}),a(he,null,{default:l(()=>[e[44]||(e[44]=t("p",{class:"offline-dialog__description"}," 保存する画質と映像コーデックを選択してください。保存処理中も視聴画面やオフライン視聴ページで進捗を確認できます。 ",-1)),a(te,{modelValue:Y.value,"onUpdate:modelValue":e[14]||(e[14]=k=>Y.value=k),items:ae.value,"item-title":"label","item-value":"value",label:"保存する画質",density:"comfortable",variant:"outlined"},null,8,["modelValue","items"]),a(Ce,{modelValue:G.value,"onUpdate:modelValue":e[15]||(e[15]=k=>G.value=k),class:"mt-2",color:"primary","hide-details":"",inset:"",disabled:!N.value,label:N.value?"HEVC (H.265) を使用する":"HEVC (H.265) を使用できません"},null,8,["modelValue","disabled","label"]),t("p",{class:W(["offline-dialog__hint",{"offline-dialog__hint--disabled":!N.value}])}," HEVC は同じ画質でもファイルサイズを抑えられますが、対応していない端末では再生できません。 ",2),a(Ce,{modelValue:L.value,"onUpdate:modelValue":e[16]||(e[16]=k=>L.value=k),class:"mt-3",color:"primary","hide-details":"",inset:"",label:L.value?"コメントも保存する":"コメントは保存しない"},null,8,["modelValue","label"]),e[45]||(e[45]=t("p",{class:"offline-dialog__hint offline-dialog__hint--secondary"}," コメントを保存すると、オフライン再生時に実況コメントを表示できます。 ",-1))]),_:1}),a(we,{class:"justify-end"},{default:l(()=>[a(q,{variant:"text",onClick:e[17]||(e[17]=k=>v.value=!1),disabled:m.value},{default:l(()=>[...e[46]||(e[46]=[n("キャンセル",-1)])]),_:1},8,["disabled"]),a(q,{variant:"flat",color:"primary",loading:m.value,onClick:Re},{default:l(()=>[...e[47]||(e[47]=[n(" 保存を開始 ",-1)])]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}}),Mo=me($o,[["__scopeId","data-v-7d17322d"]]),Co={key:0,class:"recorded-program-list__header"},Ho={class:"recorded-program-list__title"},So={class:"recorded-program-list__title-text"},Bo={key:1,class:"recorded-program-list__title-count"},Po={class:"recorded-program-list__empty-content"},To=["innerHTML"],Eo=["innerHTML"],Ro={class:"recorded-program-list__grid-content"},zo={key:1,class:"recorded-program-list__pagination"},Do=ue({__name:"RecordedProgramList",props:{title:{},programs:{},total:{},page:{default:1},sortOrder:{default:"desc"},hideHeader:{type:Boolean,default:!1},hideSort:{type:Boolean,default:!1},hidePagination:{type:Boolean,default:!1},showMoreButton:{type:Boolean,default:!1},showBackButton:{type:Boolean,default:!1},showEmptyMessage:{type:Boolean,default:!0},emptyIcon:{default:"fluent:warning-20-regular"},emptyMessage:{default:"録画番組が見つかりませんでした。"},emptySubMessage:{default:'サーバー設定で録画フォルダのパスを<br class="d-sm-none">正しく設定できているか確認してください。'},isLoading:{type:Boolean,default:!1},isSearching:{type:Boolean,default:!1},forMylist:{type:Boolean,default:!1},forWatchedHistory:{type:Boolean,default:!1}},emits:["update:page","update:sortOrder","more"],setup(o){We();const C=o,s=V(C.page),M=V(C.sortOrder),H=V([...C.programs]),p=V(C.total);K(()=>C.page,v=>{s.value=v}),K(()=>C.sortOrder,v=>{M.value=v}),K(()=>C.programs,v=>{H.value=[...v]}),K(()=>C.total,v=>{p.value=v});const E=v=>{H.value=H.value.filter(m=>m.id!==v),p.value--};return(v,m)=>{const _=oe("Icon");return i(),c("div",{class:W(["recorded-program-list",{"recorded-program-list--show-sort":!o.hideSort}])},[o.hideHeader?h("",!0):(i(),c("div",Co,[t("h2",Ho,[o.showBackButton?z((i(),c("div",{key:0,class:"recorded-program-list__title-back",onClick:m[0]||(m[0]=w=>v.$router.back())},[a(_,{icon:"fluent:chevron-left-12-filled",width:"27px"})])),[[Z]]):h("",!0),t("span",So,u(o.title),1),o.showMoreButton?h("",!0):(i(),c("div",Bo,[o.isSearching?(i(),c(j,{key:0},[a(_,{icon:"line-md:loading-twotone-loop",class:"mr-1 spin",width:"20px",height:"20px"}),m[6]||(m[6]=t("span",null,"検索中...",-1))],64)):(i(),c(j,{key:1},[n(u(p.value)+"件",1)],64))]))]),t("div",{class:W(["recorded-program-list__actions",{"recorded-program-list__actions--mylist":o.forMylist}])},[o.hideSort?h("",!0):(i(),$(te,{key:0,modelValue:M.value,"onUpdate:modelValue":[m[1]||(m[1]=w=>M.value=w),m[2]||(m[2]=w=>v.$emit("update:sortOrder",w))],items:o.forMylist?[{title:"追加が新しい順",value:"mylist_added_desc"},{title:"追加が古い順",value:"mylist_added_asc"},{title:"録画が新しい順",value:"recorded_desc"},{title:"録画が古い順",value:"recorded_asc"}]:[{title:"新しい順",value:"desc"},{title:"古い順",value:"asc"}],"item-title":"title","item-value":"value",class:"recorded-program-list__sort",color:"primary","bg-color":"background-lighten-1",variant:"solo",density:"comfortable","hide-details":""},null,8,["modelValue","items"])),o.showMoreButton?(i(),$(q,{key:1,variant:"text",class:"recorded-program-list__more",onClick:m[3]||(m[3]=w=>v.$emit("more"))},{default:l(()=>[m[7]||(m[7]=t("span",{class:"text-primary"},"もっと見る",-1)),a(_,{icon:"fluent:chevron-right-12-regular",width:"18px",class:"ml-1 text-text-darken-1",style:{margin:"0px -4px"}})]),_:1})):h("",!0)],2)])),t("div",{class:W(["recorded-program-list__grid",{"recorded-program-list__grid--loading":o.isLoading||o.isSearching,"recorded-program-list__grid--empty":p.value===0&&o.showEmptyMessage,"recorded-program-list__grid--searching":o.isSearching}])},[t("div",{class:W(["recorded-program-list__empty",{"recorded-program-list__empty--show":p.value===0&&o.showEmptyMessage&&!o.isSearching}])},[t("div",Po,[a(_,{class:"recorded-program-list__empty-icon",icon:o.emptyIcon,width:"54px",height:"54px"},null,8,["icon"]),t("h2",{innerHTML:o.emptyMessage},null,8,To),o.emptySubMessage?(i(),c("div",{key:0,class:"recorded-program-list__empty-submessage",innerHTML:o.emptySubMessage},null,8,Eo)):h("",!0)])],2),t("div",Ro,[(i(!0),c(j,null,qe(H.value,w=>(i(),$(Mo,{key:w.id,program:w,forMylist:o.forMylist,forWatchedHistory:o.forWatchedHistory,onDeleted:E},null,8,["program","forMylist","forWatchedHistory"]))),128))])],2),!o.hidePagination&&p.value>0?(i(),c("div",zo,[a(Ne,{modelValue:s.value,"onUpdate:modelValue":[m[4]||(m[4]=w=>s.value=w),m[5]||(m[5]=w=>v.$emit("update:page",w))],"active-color":"primary",density:"comfortable",length:Math.ceil(p.value/30),"total-visible":P(I).isSmartphoneVertical()?5:7},null,8,["modelValue","length","total-visible"])])):h("",!0)],2)}}}),Jo=me(Do,[["__scopeId","data-v-6ade5cfc"]]);export{Jo as R};
